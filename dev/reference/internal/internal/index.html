<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internal functions with doc strings · NaiveNASlib</title><meta name="title" content="Internal functions with doc strings · NaiveNASlib"/><meta property="og:title" content="Internal functions with doc strings · NaiveNASlib"/><meta property="twitter:title" content="Internal functions with doc strings · NaiveNASlib"/><meta name="description" content="Documentation for NaiveNASlib."/><meta property="og:description" content="Documentation for NaiveNASlib."/><meta property="twitter:description" content="Documentation for NaiveNASlib."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">NaiveNASlib</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../examples/quicktutorial/">Quick Tutorial</a></li><li><a class="tocitem" href="../../../examples/advancedtutorial/">Advanced Tutorial</a></li><li><a class="tocitem" href="../../../terminology/">Terminology</a></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../../simple/createvertex/">Vertex Creation</a></li><li><a class="tocitem" href="../../simple/graph/">Graph Operations</a></li><li><a class="tocitem" href="../../simple/queryvertex/">Access vertex data</a></li><li><a class="tocitem" href="../../simple/mutatevertex/">Vertex Mutation</a></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">Advanced</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../advanced/graphquery/">Advanced Graph Functions</a></li><li><a class="tocitem" href="../../advanced/size/">Size Strategies</a></li><li><a class="tocitem" href="../../advanced/structure/">Vertex Connection Strategies</a></li><li><a class="tocitem" href="../../advanced/traits/">Extra Vertex Traits</a></li><li><a class="tocitem" href="../../advanced/infixconf/">Element Wise Configuration</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-6" type="checkbox"/><label class="tocitem" for="menuitem-5-6"><span class="docs-label">Extend</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../extend/vertices/">Vertex Types</a></li><li><a class="tocitem" href="../../extend/strategies/">Strategy Base Types</a></li><li><a class="tocitem" href="../../extend/traits/">Trait Types</a></li><li><a class="tocitem" href="../../extend/misc/">Other Functions</a></li></ul></li></ul></li><li><span class="tocitem">Internal</span><ul><li class="is-active"><a class="tocitem" href>Internal functions with doc strings</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Internal</a></li><li class="is-active"><a href>Internal functions with doc strings</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internal functions with doc strings</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/DrChainsaw/NaiveNASlib.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/master/docs/src/reference/internal/internal.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Internal-functions-with-doc-strings"><a class="docs-heading-anchor" href="#Internal-functions-with-doc-strings">Internal functions with doc strings</a><a id="Internal-functions-with-doc-strings-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-functions-with-doc-strings" title="Permalink"></a></h1><p>These are not part of the public API.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.JuMPNorm" href="#NaiveNASlib.JuMPNorm"><code>NaiveNASlib.JuMPNorm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JuMPNorm</code></pre><p>Abstract type for norms to a JuMP model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.sizeobjective!" href="#NaiveNASlib.sizeobjective!"><code>NaiveNASlib.sizeobjective!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sizeobjective!(case, s::AbstractJuMPΔSizeStrategy, model, noutvars, sizetargets)</code></pre><p>Add the objective for <code>noutvars</code> using strategy <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L340-L344">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.solve_outputs_selection" href="#NaiveNASlib.solve_outputs_selection"><code>NaiveNASlib.solve_outputs_selection</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_outputs_selection(s::AbstractΔSizeStrategy, vertices::AbstractVector{&lt;:AbstractVertex}, utilityfun)</code></pre><p>Returns a tuple <code>(success, nindict, noutdict)</code> where <code>nindict[vi]</code> are new input neuron indices and <code>noutdict[vi]</code> are new output neuron indices for each vertex <code>vi</code> in <code>vertices</code>.</p><p>The function generally tries to maximize <code>sum(utilityfun(vi) .* selected[vi]) ∀ vi in vertices</code> where <code>selected[vi]</code> is all elements in <code>noutdict[vi]</code> larger than 0 (negative values  in <code>noutdict</code> indicates a new output shall be inserted at that position). This however is up to the implementation of the <code>AbstractΔSizeStrategy s</code>.</p><p>Since selection of outputs is not guaranteed to work in all cases, a flag <code>success</code> is also returned. If <code>success</code> is <code>false</code> then applying the new indices may (and probably will) fail.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/select.jl#L271-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.all_in_Δsize_graph" href="#NaiveNASlib.all_in_Δsize_graph"><code>NaiveNASlib.all_in_Δsize_graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">all_in_Δsize_graph(v::AbstractVertex, d::Direction)</code></pre><p>Return an array of vertices which will be affected if <code>v</code> changes size in direction <code>d</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.noinsertgaps!" href="#NaiveNASlib.noinsertgaps!"><code>NaiveNASlib.noinsertgaps!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">noinsertgaps!(model, select, insert, maxinsert=length(outsel) * 10)</code></pre><p>Add constraints so that <code>insert</code> does not create undefined gaps in the result of the neuron selection.</p><p>Assume <code>select</code> is a set of binary variables where <code>select[i] = 1</code> means select the output neuron at position <code>i</code>  and <code>insert[i] = N</code> means insert <code>N</code> new output neurons at the position after <code>i</code>.</p><p>An example of an undefined gap is if <code>select = [1, 1, 0]</code> and <code>insert = [0, 0, 1]</code> because this results in the  instruction to use existing output neurons <code>1 and 2</code> and then insert a new neuron at position <code>4</code>.  In this example position <code>3</code> is an undefined gap as one should neither put an existing neuron there nor shall one insert new neurons. Running this method constrains <code>model</code> so that this solution is infeasible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/select.jl#L426-L438">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.Both" href="#NaiveNASlib.Both"><code>NaiveNASlib.Both</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Both</code></pre><p>Represents both directions (<code>Input</code> and <code>Output</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.SizeAlignFailError" href="#NaiveNASlib.SizeAlignFailError"><code>NaiveNASlib.SizeAlignFailError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SizeAlignFailError &lt;: Exception</code></pre><p>Sizes could not be aligned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/structure.jl#L50-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.neighbours" href="#NaiveNASlib.neighbours"><code>NaiveNASlib.neighbours</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">neighbours(d::Direction, v)</code></pre><p>Return vertices connected to <code>v</code> in direction <code>d</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.ΔSizeFailError" href="#NaiveNASlib.ΔSizeFailError"><code>NaiveNASlib.ΔSizeFailError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ΔSizeFailError &lt;: Exception</code></pre><p>Size change could not be solved.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/sizestrategies.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.ninconstraint!" href="#NaiveNASlib.ninconstraint!"><code>NaiveNASlib.ninconstraint!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ninconstraint!(case, s, v, data)</code></pre><p>Add input size constraints for <code>AbstractVertex v</code> using strategy <code>s</code>.</p><p>Extra info like the model and variables is provided in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L313-L319">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.newsizes" href="#NaiveNASlib.newsizes"><code>NaiveNASlib.newsizes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">newsizes(s::AbstractΔSizeStrategy, vertices::AbstractArray{&lt;:AbstractVertex})</code></pre><p>Return a vector of new outputs sizes for and a <code>Dict</code> of new input sizes for all provided <code>vertices</code> using the strategy <code>s</code>.</p><p>Result vector is index aligned with <code>vertices</code>. Result <code>Dict</code> has a vector of input sizes for each element of <code>vertices</code> which has an input (i.e everything except input vertices).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L163-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.Input" href="#NaiveNASlib.Input"><code>NaiveNASlib.Input</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Input</code></pre><p>Represents the input direction, i.e coming from the output of another vertex.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.L1NormLinear" href="#NaiveNASlib.L1NormLinear"><code>NaiveNASlib.L1NormLinear</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">L1NormLinear
L1NormLinear()</code></pre><p>Add a set of linear constraints to a model to map an expression to a variable which is the L1 norm of that expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L8-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.SumNorm" href="#NaiveNASlib.SumNorm"><code>NaiveNASlib.SumNorm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SumNorm{N&lt;:JuMPNorm} &lt;: JuMPNorm</code></pre><p>Sum of <code>ns</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.sizeconstraint!" href="#NaiveNASlib.sizeconstraint!"><code>NaiveNASlib.sizeconstraint!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sizeconstraint!(s::AbstractJuMPΔSizeStrategy, v, data)</code></pre><p>Add size constraints for <code>AbstractVertex v</code> using strategy <code>s</code>.</p><p>Extra info like the model and variables is provided in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L281-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.MaxNormLinear" href="#NaiveNASlib.MaxNormLinear"><code>NaiveNASlib.MaxNormLinear</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MaxNormLinear
MaxNormLinear()</code></pre><p>Add a set of linear constraints to a model to map an expression to a variable which is the max norm of that expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L15-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.AlignNinToNoutVertices" href="#NaiveNASlib.AlignNinToNoutVertices"><code>NaiveNASlib.AlignNinToNoutVertices</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AlignNinToNoutVertices{V1,V2,S,F} &lt;: AbstractJuMPΔSizeStrategy
AlignNinToNoutVertices(vin::V1, vout::V2, inds; vstrat::S=AlignNinToNout(), fallback::F=ΔSizeFailNoOp())
AlignNinToNoutVertices(vin::V1, vout::V2, inds, vstrat::S, fallback::F)</code></pre><p>Same as <a href="../../advanced/size/#NaiveNASlib.AlignNinToNout"><code>AlignNinToNout</code></a> with an additional constraint that <a href="../../simple/queryvertex/#NaiveNASlib.nin"><code>nin(s.vin)</code></a><code>[s.ininds] ==</code> <a href="../../simple/queryvertex/#NaiveNASlib.nout"><code>nout(s.vout)</code></a>  where <code>s</code> is a <a href="#NaiveNASlib.AlignNinToNoutVertices"><code>AlignNinToNoutVertices</code></a>.</p><p>Useful in the context of adding edges to vertices to align sizes before the edge has been added.</p><p>If it fails, the operation will be retried with the <code>fallback</code> strategy (default <a href="../../advanced/size/#NaiveNASlib.ΔSizeFailNoOp"><code>ΔSizeFailNoOp</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/sizestrategies.jl#L458-L469">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.vertexconstraints!" href="#NaiveNASlib.vertexconstraints!"><code>NaiveNASlib.vertexconstraints!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vertexconstraints!(s::AbstractJuMPΔSizeStrategy, v, data)</code></pre><p>Add constraints for <code>AbstractVertex v</code> using strategy <code>s</code>.</p><p>Extra info like the model and variables is provided in <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L268-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.opposite" href="#NaiveNASlib.opposite"><code>NaiveNASlib.opposite</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">opposite(d::Direction)</code></pre><p>Return the opposite direction of <code>d</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.ScalarSize" href="#NaiveNASlib.ScalarSize"><code>NaiveNASlib.ScalarSize</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ScalarSize</code></pre><p>Treat vertices as having a scalar size when formulating the size change problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.Output" href="#NaiveNASlib.Output"><code>NaiveNASlib.Output</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Output</code></pre><p>Represents the output direction, i.e coming from the input of another vertex.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.sizemodel" href="#NaiveNASlib.sizemodel"><code>NaiveNASlib.sizemodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sizemodel(s::AbstractJuMPΔSizeStrategy, vertices)</code></pre><p>Return a <code>JuMP.Model</code> for executing strategy <code>s</code> on <code>vertices</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L193-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.ScaleNorm" href="#NaiveNASlib.ScaleNorm"><code>NaiveNASlib.ScaleNorm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ScaleNorm{S&lt;:Real,N} &lt;: JuMPNorm
ScaleNorm(scale, n)</code></pre><p>Scales result from <code>n</code> with a factor <code>scale</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L23-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.norm!" href="#NaiveNASlib.norm!"><code>NaiveNASlib.norm!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">norm!(s::L1NormLinear, model, X)</code></pre><p>Add a set of linear constraints to a model to map <code>X</code> to an expression <code>X′</code> which is the L1 norm of <code>X</code>.</p><p>Note that it only works for the objective function and only for minimization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L47-L53">source</a></section><section><div><pre><code class="language-julia hljs">norm!(s::L1NormLinear, model, X)</code></pre><p>Add a set of linear constraints to a model to map <code>X</code> to a variable <code>X′</code> which is the max norm of <code>X</code>.</p><p>Note that it only works for the objective function and only for minimization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/jumpnorm.jl#L62-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.accept" href="#NaiveNASlib.accept"><code>NaiveNASlib.accept</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">accept(case, ::AbstractJuMPΔSizeStrategy, model::JuMP.Model)</code></pre><p>Return true of the solution for <code>model</code> is accepted using strategy <code>s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/size.jl#L207-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.NeuronIndices" href="#NaiveNASlib.NeuronIndices"><code>NaiveNASlib.NeuronIndices</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NeuronIndices</code></pre><p>Treat vertices as having parameters which represents neurons when formulating the size change problem.</p><p>This means that individual indices will be aligned so that the function to the largest extent possible is the same after resizing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/select.jl#L2-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.ΔNoutMix" href="#NaiveNASlib.ΔNoutMix"><code>NaiveNASlib.ΔNoutMix</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ΔNoutMix{VE, VR, F} &lt;: AbstractJuMPΔSizeStrategy
ΔNoutMix(exact::ΔNout{Exact, VE, F}, relax::ΔNout{Relaxed, VR, F}, fallback::F)</code></pre><p>Strategy for changing nout of vertices.</p><p>Applies both <code>exact</code> and <code>relax</code>, thereby allowing for having both hard and relaxed size constraints for different vertices.</p><p>Can be conveniently created by <a href="../../advanced/size/#NaiveNASlib.ΔNout"><code>ΔNout</code></a> or <a href="../../advanced/size/#NaiveNASlib.ΔNin"><code>ΔNin</code></a>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/sizestrategies.jl#L330-L339">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="NaiveNASlib.SizeCycleDetector.isinsizecycle" href="#NaiveNASlib.SizeCycleDetector.isinsizecycle"><code>NaiveNASlib.SizeCycleDetector.isinsizecycle</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isinsizecycle(v)</code></pre><p>Return true if removing <code>v</code> leads to a size cycle.  </p><p>A size cycle is when at least one vertex <code>vi</code> has the impossible size constraint that <code>nout(vi) == nout(vi) + nout(vj)</code> where <code>vj</code> is a vertex in the graph (possibly <code>vi</code>).</p><p>This tends to happen when concatenation is followed by an elementwise operation and removing one input <code>vi</code> to the concatenation and replacing it with another vertex <code>vj</code>  which is also input to the elementwise operation (possibly through any number of size transparent operations). Since the sum of input sizes to the concatenation must be  equal to the input size of the elementwise operation and one out of several inputs to the concatenation must also have the same output size as the input to the  elementwise operation we are stuck with an impossible constraint.</p><p>As the algorithm is a bit messy (which imo is a sign that it is incorrect), here is a rundown of the idea:</p><ol><li>From the queired vertex, trace the graph forwards (output direction) until we hit a non-<code>SizeTransparent</code> vertex. If we encounter a <code>SizeStack</code> vertex store </li></ol><p>this vertex in a <code>SeenSizeStack</code> and use it as the current state. If we encounter a <code>SizeInvariant</code> when we have <code>SeenSizeStack</code> as the state, we will store the  vertex and the <code>SeenSizeStack</code> as the output. The result from this is thus the set of potentially problematic vertices. If there are no potentially problematic vertices there can not be a size cycle and we return false.</p><ol><li>As the posed question is &quot;If I remove <code>v</code> and connect its inputs to its outputs, will there be a size cycle?&quot; we determine if shortcutting <code>v</code> creates a size transparent</li></ol><p>path between any input ancestor to <code>v</code> and any of the problematic vertices. To avoid having to check all ancestors, we just examine the set which terminates any size  transparency using <code>findterminating</code>, knowing that if <code>v</code> and a problematic vertex share such a terminating ancestor, then shortcutting <code>v</code> creates a size transparent path to the problematic vertex which may not have been there before. If there are no problematic vertices which share a common terminating ancestor with <code>v</code> we return false.</p><ol><li>For each problematic vertex <code>vp</code> and associated set of terminating ancestors <code>VPa</code> which passes the check in 2 we now check if any of the vertices in <code>VPa</code> sees <code>vp</code> as</li></ol><p>problematic for the same reason as <code>v</code> does, meaning that they both pass through the same concatenation at least one time before hitting <code>vp</code>. If not, it basically means  that <code>v</code> is alone in a <code>noop</code> concatenation and there is no <code>vj</code> from the first paragraph to create an impossible constraint. If this applies to all problematic vertices we don&#39;t have a size cycle and return false.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveNASlib.jl/blob/cbc6e83ee4d37bb85d21c7113490bed449783ea1/src/mutation/graph.jl#L172-L200">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../extend/misc/">« Other Functions</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 5 November 2024 01:08">Tuesday 5 November 2024</span>. Using Julia version 1.10.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
